{"componentChunkName":"component---src-templates-post-template-tsx","path":"/airflow/execution_date/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"문제-상황\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\"문제 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 상황</h2>\n<p>회사에서 배치 프로세스 작업으로 일단위 데이터 집계를 하기 위해 Airflow를 사용하고 있습니다. 저는 Execution Date를 당연하게 배치 프로세스의 작업 시간이라고 생각하고 스케줄링을 했었습니다..!\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/b2072/2023-08-07-14-30-49.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlwAAABXRUJQVlA4IFAAAABQAwCdASoUAAoAPtFUo0uoJKMhsAgBABoJaSzAAAIFdQw/AAD+8X2fE3sP38WR6CGjwa1+Ar+Nq6/VfvhvJngfVcRddyrGUiJKSK0HnOcCAA=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/a59e9/2023-08-07-14-30-49.webp 192w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/0ca9f/2023-08-07-14-30-49.webp 384w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/dc9b9/2023-08-07-14-30-49.webp 768w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/e2c2f/2023-08-07-14-30-49.webp 1152w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/b2072/2023-08-07-14-30-49.webp 1212w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/a59e9/2023-08-07-14-30-49.webp 192w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/0ca9f/2023-08-07-14-30-49.webp 384w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/dc9b9/2023-08-07-14-30-49.webp 768w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/e2c2f/2023-08-07-14-30-49.webp 1152w,\n/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/b2072/2023-08-07-14-30-49.webp 1212w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ee8b4a71c0aa09df04bc0783cf3ad1c0/dc9b9/2023-08-07-14-30-49.webp\"\n            alt=\"결과 그림\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br>\n그렇지만 무슨일인지 원하는 대로 동작이 되지 않고, 오늘이 만약 8월 6일이면 전날 데이터인 8월 5일 데이터를 집계할 줄 알았지만 8월 4일의 데이터를 집계하고 있었습니다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa4a2d418f9d20ae338a412f8788008c/2a579/2023-08-07-14-32-12.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.35416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlYAAABXRUJQVlA4IEoAAABwAwCdASoUAAkAPtFUo0uoJKMhsAgBABoJaQAAUz4ZaV5eYAAA/vUeOoodP+4FPC6n6ll1S3fSNO5jzbUnZHeCUQ5qdECSuWAAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/aa4a2d418f9d20ae338a412f8788008c/a59e9/2023-08-07-14-32-12.webp 192w,\n/static/aa4a2d418f9d20ae338a412f8788008c/0ca9f/2023-08-07-14-32-12.webp 384w,\n/static/aa4a2d418f9d20ae338a412f8788008c/dc9b9/2023-08-07-14-32-12.webp 768w,\n/static/aa4a2d418f9d20ae338a412f8788008c/e2c2f/2023-08-07-14-32-12.webp 1152w,\n/static/aa4a2d418f9d20ae338a412f8788008c/2a579/2023-08-07-14-32-12.webp 1213w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/aa4a2d418f9d20ae338a412f8788008c/a59e9/2023-08-07-14-32-12.webp 192w,\n/static/aa4a2d418f9d20ae338a412f8788008c/0ca9f/2023-08-07-14-32-12.webp 384w,\n/static/aa4a2d418f9d20ae338a412f8788008c/dc9b9/2023-08-07-14-32-12.webp 768w,\n/static/aa4a2d418f9d20ae338a412f8788008c/e2c2f/2023-08-07-14-32-12.webp 1152w,\n/static/aa4a2d418f9d20ae338a412f8788008c/2a579/2023-08-07-14-32-12.webp 1213w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/aa4a2d418f9d20ae338a412f8788008c/dc9b9/2023-08-07-14-32-12.webp\"\n            alt=\"실제 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"왜-이런-문제가-발생할까\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EC%9D%B4%EB%9F%B0-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C\" aria-label=\"왜 이런 문제가 발생할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 이런 문제가 발생할까?</h2>\n<p>바로 Execution Date를 제가 잘못 알고 있었기 때문입니다.<br>\nExecution Date는 제가 생각한대로 실행하고 있지 않았습니다.<br>\n제가 착각한 부분은 실행 시각과 execution_date의 시간이 같은 줄 알고 프로그래밍을 했습니다..!<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/0ed6f/2023-08-07-14-33-49.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRmIAAABXRUJQVlA4IFYAAACQAwCdASoUAAcAPtFWo0uoJKMhsAgBABoJZQBU4Aex/X1ccYXAAP7zrljMziaoIg9hOp3uaHbh/otWgZz4DZkG2JkcPOwIuK6wUPrvX9Q4dUR1G4sAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/a59e9/2023-08-07-14-33-49.webp 192w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/0ca9f/2023-08-07-14-33-49.webp 384w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/dc9b9/2023-08-07-14-33-49.webp 768w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/e2c2f/2023-08-07-14-33-49.webp 1152w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/0ed6f/2023-08-07-14-33-49.webp 1203w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/a59e9/2023-08-07-14-33-49.webp 192w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/0ca9f/2023-08-07-14-33-49.webp 384w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/dc9b9/2023-08-07-14-33-49.webp 768w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/e2c2f/2023-08-07-14-33-49.webp 1152w,\n/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/0ed6f/2023-08-07-14-33-49.webp 1203w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1f6bc42e9e3ad6180ae687a7d5ae7fca/dc9b9/2023-08-07-14-33-49.webp\"\n            alt=\"내가 생각한 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"source\">제가 생각했던 execution_date</div>\n<p>8월 6일 00시에 실행하는 Execution Time은 print를 해보니 8월 5일 00시에 찍혀있었습니다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3c3164ee56825098252580d708aeccaf/c47e4/2023-08-07-14-34-26.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlQAAABXRUJQVlA4IEgAAABwAwCdASoUAAYAPtFUo0uoJKMhsAgBABoJZwAAYc1yWjXtBAAA/u2xBH+V0opBwmOjX+v8vp3jyNV8rUJVzauUjQJuGnCaAAA='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/3c3164ee56825098252580d708aeccaf/a59e9/2023-08-07-14-34-26.webp 192w,\n/static/3c3164ee56825098252580d708aeccaf/0ca9f/2023-08-07-14-34-26.webp 384w,\n/static/3c3164ee56825098252580d708aeccaf/dc9b9/2023-08-07-14-34-26.webp 768w,\n/static/3c3164ee56825098252580d708aeccaf/e2c2f/2023-08-07-14-34-26.webp 1152w,\n/static/3c3164ee56825098252580d708aeccaf/c47e4/2023-08-07-14-34-26.webp 1179w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/3c3164ee56825098252580d708aeccaf/a59e9/2023-08-07-14-34-26.webp 192w,\n/static/3c3164ee56825098252580d708aeccaf/0ca9f/2023-08-07-14-34-26.webp 384w,\n/static/3c3164ee56825098252580d708aeccaf/dc9b9/2023-08-07-14-34-26.webp 768w,\n/static/3c3164ee56825098252580d708aeccaf/e2c2f/2023-08-07-14-34-26.webp 1152w,\n/static/3c3164ee56825098252580d708aeccaf/c47e4/2023-08-07-14-34-26.webp 1179w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/3c3164ee56825098252580d708aeccaf/dc9b9/2023-08-07-14-34-26.webp\"\n            alt=\"실제 실행했던 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"source\">실제 execution_date</div>\n<p>Airflow에는 TimeWindow라는 처리해야할 데이터의 기간인 개념이 있습니다.<br>\n예를 들어, 8월 5일날 이커머스의 일일 매출을 집계하는 배치 작업이 있다고 합시다.<br>\n일일 매출을 계산하려면 4일이 끝나고 8월 5일 자정에 <code class=\"language-text\">08/04 00:00:00 ~ 08/04 23:59:59</code>까지의 발생한 매출을 계산해야 합니다!<br>\n여기서 작업 대상이 되는 데이터는 8월 4일의 데이터(=<code class=\"language-text\">execution_date</code>)가 되고, 실제 작업이 실행되는 시간은 8월 5일 0시가 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5426666439fba28e6637854a738746b9/0157a/2023-08-07-14-35-06.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.041666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRloAAABXRUJQVlA4IE4AAACQAwCdASoUAAUAPtFUpEuoJKOhsAgBABoJZwC7AB7HXyqzlKAAAP7zz8ua8RKfJyOLWbmr04CDKKnHGsqAGWN5m2zjXm2ziYpocA86AAA='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5426666439fba28e6637854a738746b9/a59e9/2023-08-07-14-35-06.webp 192w,\n/static/5426666439fba28e6637854a738746b9/0ca9f/2023-08-07-14-35-06.webp 384w,\n/static/5426666439fba28e6637854a738746b9/dc9b9/2023-08-07-14-35-06.webp 768w,\n/static/5426666439fba28e6637854a738746b9/e2c2f/2023-08-07-14-35-06.webp 1152w,\n/static/5426666439fba28e6637854a738746b9/0157a/2023-08-07-14-35-06.webp 1186w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5426666439fba28e6637854a738746b9/a59e9/2023-08-07-14-35-06.webp 192w,\n/static/5426666439fba28e6637854a738746b9/0ca9f/2023-08-07-14-35-06.webp 384w,\n/static/5426666439fba28e6637854a738746b9/dc9b9/2023-08-07-14-35-06.webp 768w,\n/static/5426666439fba28e6637854a738746b9/e2c2f/2023-08-07-14-35-06.webp 1152w,\n/static/5426666439fba28e6637854a738746b9/0157a/2023-08-07-14-35-06.webp 1186w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5426666439fba28e6637854a738746b9/dc9b9/2023-08-07-14-35-06.webp\"\n            alt=\"Time window\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>즉, <code class=\"language-text\">execution_date</code>는 해당 Task가 처리해야 할 데이터 기간의 시작 시점인 8월 4일을 의미합니다.<br>\n<code class=\"language-text\">execution_date</code>라는 이름을 직역하면 실행 날짜가 되기 때문에 그 의미와 실제 의미가 달라서 혼란이 유발 됐었습니다..</p>\n<h2 id=\"어떻게-해결해야-할까\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C\" aria-label=\"어떻게 해결해야 할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떻게 해결해야 할까?</h2>\n<h3 id=\"1-execution_date-이해에-따라-수정\" style=\"position:relative;\"><a href=\"#1-execution_date-%EC%9D%B4%ED%95%B4%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"1 execution_date 이해에 따라 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. execution_date 이해에 따라 수정</h3>\n<p>이건 해결방법 중 가장 쉬운 방법이지만 저만 오해가 풀린 걸 수도 있으므로 언젠가 코드를 유지보수할 다른 분들께서 또 오해의 소지가 있기 때문에 이 방법 스킵하도록 하겠습니다.</p>\n<h3 id=\"2-execution_date를-대체하기\" style=\"position:relative;\"><a href=\"#2-execution_date%EB%A5%BC-%EB%8C%80%EC%B2%B4%ED%95%98%EA%B8%B0\" aria-label=\"2 execution_date를 대체하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. execution_date를 대체하기</h3>\n<p>execution_date를 대체하는 것이 좋은 방법이라고 생각됩니다.<br>\n<a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-39+Richer+scheduler_interval\" target=\"_blank\" rel=\"nofollow\">confluence의 AIP39</a>에 보면 execution_date가 너무 오해에 소지가 있으니 새로운 이름을 명칭하는 내용이 있습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 472px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.54166666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRmYAAABXRUJQVlA4IFoAAAAwBACdASoUABIAPtFgqU+oJSOiKAgBABoJaQAAMX/MNDY7y8Zx4RGPtYAA/vPD9cf76UVebCfOlvmu+cjIhyLQFQ8XVgP0IxlA/PYKJ4RrENdOmps70N0AAAA='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8ed9c23270835b7160b796f3fa9800f8/a59e9/2023-08-08-10-48-18.webp 192w,\n/static/8ed9c23270835b7160b796f3fa9800f8/0ca9f/2023-08-08-10-48-18.webp 384w,\n/static/8ed9c23270835b7160b796f3fa9800f8/1fc91/2023-08-08-10-48-18.webp 472w\"\n              sizes=\"(max-width: 472px) 100vw, 472px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8ed9c23270835b7160b796f3fa9800f8/a59e9/2023-08-08-10-48-18.webp 192w,\n/static/8ed9c23270835b7160b796f3fa9800f8/0ca9f/2023-08-08-10-48-18.webp 384w,\n/static/8ed9c23270835b7160b796f3fa9800f8/1fc91/2023-08-08-10-48-18.webp 472w\"\n            sizes=\"(max-width: 472px) 100vw, 472px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8ed9c23270835b7160b796f3fa9800f8/1fc91/2023-08-08-10-48-18.webp\"\n            alt=\"2023 08 08 10 48 18\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<div class=\"source\">새로운 명칭이름</div>\n이 위에 표에는 없지만 execution_date와 같은 날짜를 가리키는 logical_date도 존재합니다.\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bc07d0151b78d83ed8e897d5a315b79b/df6ec/2023-08-07-14-35-53.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRmIAAABXRUJQVlA4IFYAAAAwAwCdASoUAAcAPtFWo0uoJKMhsAgBABoJZwAAUp/h5XgAAP7zmbeq/JpASWUU+niAezktXMAkMGtrH347wB7u9qTMehxoQKyROIsXa8bXru4ndwIAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/bc07d0151b78d83ed8e897d5a315b79b/a59e9/2023-08-07-14-35-53.webp 192w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/0ca9f/2023-08-07-14-35-53.webp 384w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/dc9b9/2023-08-07-14-35-53.webp 768w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/e2c2f/2023-08-07-14-35-53.webp 1152w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/f3efb/2023-08-07-14-35-53.webp 1536w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/df6ec/2023-08-07-14-35-53.webp 1780w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/bc07d0151b78d83ed8e897d5a315b79b/a59e9/2023-08-07-14-35-53.webp 192w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/0ca9f/2023-08-07-14-35-53.webp 384w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/dc9b9/2023-08-07-14-35-53.webp 768w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/e2c2f/2023-08-07-14-35-53.webp 1152w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/f3efb/2023-08-07-14-35-53.webp 1536w,\n/static/bc07d0151b78d83ed8e897d5a315b79b/df6ec/2023-08-07-14-35-53.webp 1780w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/webp\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/bc07d0151b78d83ed8e897d5a315b79b/dc9b9/2023-08-07-14-35-53.webp\"\n            alt=\"interval Time\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"source\"> 다양한 Date</div>\n<p>위와 같이 이외에도 airflow에 정해진 date들이 있습니다.</p>\n<div class=\"code-header\">\n\t<span class=\"red btn\"></span>\n\t<span class=\"yellow btn\"></span>\n\t<span class=\"green btn\"></span>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">//</span> pendulum<span class=\"token punctuation\">.</span>DateTime 형식\ndate_time_start <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>data_interval_start<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>execution_date 대신 logical_date나 data_interval_start로 변경하여 코드를 수정하는 이 방법이 조금 더 좋아보여 이렇게 수정하였습니다.</p>\n<h2 id=\"깨달은-점\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EB%8B%AC%EC%9D%80-%EC%A0%90\" aria-label=\"깨달은 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>깨달은 점</h2>\n<p>새로운 기술을 도입할 때 실보다 바늘이 많다고 생각하여 도입을 했지만, 오해할 만한 여지를 계속 내버려두고 데이터 체크를 하지 않았다면 장기적인 에러로 발전했을 것 같습니다..<br>\n앞으로도 제 로직이 정확하다고 할지라도 테스트는 무조건 진행해야 한다고 생각합니다.<br>\n이번처럼 execution_date가 제가 생각한 방향과 다르게 동작할 수 있으므로.. ㅠㅠ</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\">문제 상황</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%99%9C-%EC%9D%B4%EB%9F%B0-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C\">왜 이런 문제가 발생할까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C\">어떻게 해결해야 할까?</a></p>\n<ul>\n<li><a href=\"#1-execution_date-%EC%9D%B4%ED%95%B4%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%88%98%EC%A0%95\">1. execution_date 이해에 따라 수정</a></li>\n<li><a href=\"#2-execution_date%EB%A5%BC-%EB%8C%80%EC%B2%B4%ED%95%98%EA%B8%B0\">2. execution_date를 대체하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B9%A8%EB%8B%AC%EC%9D%80-%EC%A0%90\">깨달은 점</a></p>\n</li>\n</ul>","frontmatter":{"title":"Airflow Execution Date 트러블 슈팅","summary":"헷갈릴만한 Execution Date와 Time Window","date":"2023.08.06.","categories":["Airflow"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRvwAAABXRUJQVlA4IPAAAACwBQCdASoUABQAAAAAJaQDLs2AOAA6RjyVZ4AcyT+M2igZIByhf9q/KHjK/0zOzXrCCarYswAA/v//vi4vw/8C9ZQ7H+H//yCwbQPvsZtVP/0ES//obRwOWqfhB6QluKlBWVv/00//+CZuyt2HnR8rj3PH4g+AF7BjHL/DERmaNf+iMa2Vn/8w5vZ6J8f/zWL84nce2QIW+sKRZGr/3/++a+72/AQG7P0f+Vx+2n8ZbXOmM113LcubNJdYTmvhHp8ioh/Ssay6McI8Hv4WzVhoxfjdbd0Vnn7uGhnuuiz+QfZ5Lvn/yafX9rRFNCCAAAA="},"images":{"fallback":{"src":"/static/97afc7f825b0ddb0803e2cd1be787df7/9c0a1/chocoball.webp","srcSet":"/static/97afc7f825b0ddb0803e2cd1be787df7/e64f1/chocoball.webp 100w,\n/static/97afc7f825b0ddb0803e2cd1be787df7/8b00d/chocoball.webp 200w,\n/static/97afc7f825b0ddb0803e2cd1be787df7/9c0a1/chocoball.webp 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":400}},"publicURL":"/static/97afc7f825b0ddb0803e2cd1be787df7/chocoball.webp"}}}}]}},"pageContext":{"slug":"/airflow/execution_date/"}},"staticQueryHashes":["2269898903"],"slicesMap":{}}