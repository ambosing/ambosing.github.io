{"componentChunkName":"component---src-templates-post-template-tsx","path":"/airflow/execution_date/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"문제-상황\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\"문제 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 상황</h2>\n<p>회사에서 배치 프로세스 작업으로 일단위 데이터 집계를 하기 위해 Airflow를 사용하고 있습니다. 저는 Execution Date를 당연하게 배치 프로세스의 작업 시간이라고 생각하고 스케줄링을 했었습니다..!\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8e14282c037131eb40df4f201f9ace47/468b3/2023-08-07-14-30-49.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABI0lEQVR42pWPQWsCMRCF9+cWz/099VDvouvFFcVjI+KhoF26RcuWhW4l6RoSdTKbmYKpRaoV+pjLJPO9NxPxUUTEzKvVajQaLRYLIURRFEKI6XQKAHxJ0S84y7JWq9Xv9weDQZqm7Xa71+sZY34GLsDnH3TQedrpY+S9d84hoveeiBAxtAFGRAA4bZ1zABAsoqqqOp1OkiR5njPzfD7vdrvD4TCsOpvN4jgej8fhbCFEHMeTyeQ7WSm12Ww+ldLb/ctDIu9u1s2GajbK+9vXp0e73SsptdZlWeZ5rrVWSllrpZTGmAgRg40nspWsy4zWS1ovXZHajzc6XMnMALDb7cK2ROScq+s64j9FVDu+qnOYDsXeqPr9mcn/Cz56oCOw15O/ABd4OMBR2n3VAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8e14282c037131eb40df4f201f9ace47/a59e9/2023-08-07-14-30-49.webp 192w,\n/static/8e14282c037131eb40df4f201f9ace47/0ca9f/2023-08-07-14-30-49.webp 384w,\n/static/8e14282c037131eb40df4f201f9ace47/dc9b9/2023-08-07-14-30-49.webp 768w,\n/static/8e14282c037131eb40df4f201f9ace47/e2c2f/2023-08-07-14-30-49.webp 1152w,\n/static/8e14282c037131eb40df4f201f9ace47/b2072/2023-08-07-14-30-49.webp 1212w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8e14282c037131eb40df4f201f9ace47/3b721/2023-08-07-14-30-49.png 192w,\n/static/8e14282c037131eb40df4f201f9ace47/66595/2023-08-07-14-30-49.png 384w,\n/static/8e14282c037131eb40df4f201f9ace47/fe486/2023-08-07-14-30-49.png 768w,\n/static/8e14282c037131eb40df4f201f9ace47/d2d74/2023-08-07-14-30-49.png 1152w,\n/static/8e14282c037131eb40df4f201f9ace47/468b3/2023-08-07-14-30-49.png 1212w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8e14282c037131eb40df4f201f9ace47/fe486/2023-08-07-14-30-49.png\"\n            alt=\"결과 그림\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br>\n그렇지만 무슨일인지 원하는 대로 동작이 되지 않고, 오늘이 만약 8월 6일이면 전날 데이터인 8월 5일 데이터를 집계할 줄 알았지만 8월 4일의 데이터를 집계하고 있었습니다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0a86625edff20892f11565c13af7bea/3e0bb/2023-08-07-14-32-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.35416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABH0lEQVR42nWRTU+DQBCG+dvGqz+DpCYeiB/HXiHgAYvRNI2xxBA3qXwsoaVscWGhLDOmbquxlTd7eWffzTMzq+GJAEAIURRFVVWMMc65lBL/k6bS/bdUabvdjsdjXddt2x6NRoZhxHGsYkdJDQAQ9gZ7ubOInPOmaYQQjLGu61RaXR2TFxG9f5xOpi8AIKX0PM9xnCiKELEoCsuyXNdljCEiIcQ0zdlstn9cZeHHzcXb5dn71fna1ClNCCHz+SulNFsuKaW+7wdBkGVZmqZJkvi+H4ZhWZZ1XWv1KmkmRv981z9dbx5uy80GDy2uIyLqSkHats3z/KdzIUTbthoOC7oGT+b8O7Na2OH8bgV6uVqA+FRm8KsGuD3wfAcfJn8BFfr/sgA2sBIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a0a86625edff20892f11565c13af7bea/a59e9/2023-08-07-14-32-12.webp 192w,\n/static/a0a86625edff20892f11565c13af7bea/0ca9f/2023-08-07-14-32-12.webp 384w,\n/static/a0a86625edff20892f11565c13af7bea/dc9b9/2023-08-07-14-32-12.webp 768w,\n/static/a0a86625edff20892f11565c13af7bea/e2c2f/2023-08-07-14-32-12.webp 1152w,\n/static/a0a86625edff20892f11565c13af7bea/2a579/2023-08-07-14-32-12.webp 1213w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a0a86625edff20892f11565c13af7bea/3b721/2023-08-07-14-32-12.png 192w,\n/static/a0a86625edff20892f11565c13af7bea/66595/2023-08-07-14-32-12.png 384w,\n/static/a0a86625edff20892f11565c13af7bea/fe486/2023-08-07-14-32-12.png 768w,\n/static/a0a86625edff20892f11565c13af7bea/d2d74/2023-08-07-14-32-12.png 1152w,\n/static/a0a86625edff20892f11565c13af7bea/3e0bb/2023-08-07-14-32-12.png 1213w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a0a86625edff20892f11565c13af7bea/fe486/2023-08-07-14-32-12.png\"\n            alt=\"실제 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"왜-이런-문제가-발생할까\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EC%9D%B4%EB%9F%B0-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C\" aria-label=\"왜 이런 문제가 발생할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 이런 문제가 발생할까?</h2>\n<p>바로 Execution Date를 제가 잘못 알고 있었기 때문입니다.<br>\nExecution Date는 제가 생각한대로 실행하고 있지 않았습니다.<br>\n제가 착각한 부분은 실행 시각과 execution_date의 시간이 같은 줄 알고 프로그래밍을 했습니다..!<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8ba48865898841bfa857a4cae5634a88/d9191/2023-08-07-14-33-49.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+ElEQVR42pWOwU6DQBRF+W03LvwH3bioUTd+gSE4TCWaVANhZSq1DCYGp0gRodBhhpn3DJgYXajx5G5ecs/NsyiljuP4vo+IWyHI1c3F9e1dtEREKaXrurZth2GII5RSQkgQBIgIAFYykmWratO+TE8XRzvz492ns70yOK9b8ZgkjDHOeVVVZVkyxuI4TtO0aRohhKVHjNarvFhfnpjpQe8d9u5+Riav6xwAPgp5nhdFgYjGGACo63qQ8Se0xF7ir3yXjUYwCIAAZlOYbfUfGRF6BaoD1fXPc/PGh1O2w+IfMsDwbBar5WxI5GkeqYeZuvegaz4LX+V37j+Jg7JIABgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8ba48865898841bfa857a4cae5634a88/a59e9/2023-08-07-14-33-49.webp 192w,\n/static/8ba48865898841bfa857a4cae5634a88/0ca9f/2023-08-07-14-33-49.webp 384w,\n/static/8ba48865898841bfa857a4cae5634a88/dc9b9/2023-08-07-14-33-49.webp 768w,\n/static/8ba48865898841bfa857a4cae5634a88/e2c2f/2023-08-07-14-33-49.webp 1152w,\n/static/8ba48865898841bfa857a4cae5634a88/0ed6f/2023-08-07-14-33-49.webp 1203w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8ba48865898841bfa857a4cae5634a88/3b721/2023-08-07-14-33-49.png 192w,\n/static/8ba48865898841bfa857a4cae5634a88/66595/2023-08-07-14-33-49.png 384w,\n/static/8ba48865898841bfa857a4cae5634a88/fe486/2023-08-07-14-33-49.png 768w,\n/static/8ba48865898841bfa857a4cae5634a88/d2d74/2023-08-07-14-33-49.png 1152w,\n/static/8ba48865898841bfa857a4cae5634a88/d9191/2023-08-07-14-33-49.png 1203w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8ba48865898841bfa857a4cae5634a88/fe486/2023-08-07-14-33-49.png\"\n            alt=\"내가 생각한 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"source\">제가 생각했던 execution_date</div>\n<p>8월 6일 00시에 실행하는 Execution Time은 print를 해보니 8월 5일 00시에 찍혀있었습니다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/180d070910e29928d4f174ae0ed0e122/c4688/2023-08-07-14-34-26.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABA0lEQVR42n1QO0vEQBjMb/cqsdR/oFaWNhYhSRGPiCSnrHmtlzMYORIEzWN3v9y+PlERTgunmoEZZhgnIVlws1omxFqLiHEce54XRZGUEhEJIb7vB0EAAIjYNI3rumEY9n2PiE5+dkBOF9n5gkUXYhyqzSbP87IsOecCoK7roijSNOWcT9PUtm2appRSxhgAOPLqSHkn1jvuLg+zPEZEpZRFfHtt1yRWxmqtjTGcc0opAFhrjTFCiK7rHPyBNlrq3Rf93I9GWwn4LxxrNMwM5mni75MYpNoxGPnMrNoZMexbv0/Zl442mr4Q8nS7Wi/vq6ja5snj9cPznR47vS3wd+BP8wf7pEwicO+IDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/180d070910e29928d4f174ae0ed0e122/a59e9/2023-08-07-14-34-26.webp 192w,\n/static/180d070910e29928d4f174ae0ed0e122/0ca9f/2023-08-07-14-34-26.webp 384w,\n/static/180d070910e29928d4f174ae0ed0e122/dc9b9/2023-08-07-14-34-26.webp 768w,\n/static/180d070910e29928d4f174ae0ed0e122/e2c2f/2023-08-07-14-34-26.webp 1152w,\n/static/180d070910e29928d4f174ae0ed0e122/c47e4/2023-08-07-14-34-26.webp 1179w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/180d070910e29928d4f174ae0ed0e122/3b721/2023-08-07-14-34-26.png 192w,\n/static/180d070910e29928d4f174ae0ed0e122/66595/2023-08-07-14-34-26.png 384w,\n/static/180d070910e29928d4f174ae0ed0e122/fe486/2023-08-07-14-34-26.png 768w,\n/static/180d070910e29928d4f174ae0ed0e122/d2d74/2023-08-07-14-34-26.png 1152w,\n/static/180d070910e29928d4f174ae0ed0e122/c4688/2023-08-07-14-34-26.png 1179w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/180d070910e29928d4f174ae0ed0e122/fe486/2023-08-07-14-34-26.png\"\n            alt=\"실제 실행했던 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"source\">실제 execution_date</div>\n<p>Airflow에는 TimeWindow라는 처리해야할 데이터의 기간인 개념이 있습니다.<br>\n예를 들어, 8월 5일날 이커머스의 일일 매출을 집계하는 배치 작업이 있다고 합시다.<br>\n일일 매출을 계산하려면 4일이 끝나고 8월 5일 자정에 <code class=\"language-text\">08/04 00:00:00 ~ 08/04 23:59:59</code>까지의 발생한 매출을 계산해야 합니다!<br>\n여기서 작업 대상이 되는 데이터는 8월 4일의 데이터(=<code class=\"language-text\">execution_date</code>)가 되고, 실제 작업이 실행되는 시간은 8월 5일 0시가 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d6672c606a8923282e3a9ba4f2db0dac/7e08f/2023-08-07-14-35-06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.041666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA40lEQVR42n2L0U6DMBhGeVzjlQ/iO2j2AjMSAtkN4cbELJGp022ObAJZhymU8lNbgba/2bxaYnbuvnznOIgYx3EQBFEUIWL3oyaBf383XrzNEZHS0vd913WLokDENE09zwvDUCmFiA6llHMOAN+iJWX9Ob4Wtxf16EqMLvPJDeWtaKFpGillkiSMMQAQQgAAY8zp+94YY61Bi7KTy/lDnb1zsiIfT+V6drwOGGOklFrrv6m1HobBwVNAwY6RvMpJvdd9h2c5xNbabbFa5i+v2+kim+2r7HnzSDmxX4kRFR6Nf+Nf6WEUGtg2HFcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d6672c606a8923282e3a9ba4f2db0dac/a59e9/2023-08-07-14-35-06.webp 192w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/0ca9f/2023-08-07-14-35-06.webp 384w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/dc9b9/2023-08-07-14-35-06.webp 768w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/e2c2f/2023-08-07-14-35-06.webp 1152w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/0157a/2023-08-07-14-35-06.webp 1186w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d6672c606a8923282e3a9ba4f2db0dac/3b721/2023-08-07-14-35-06.png 192w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/66595/2023-08-07-14-35-06.png 384w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/fe486/2023-08-07-14-35-06.png 768w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/d2d74/2023-08-07-14-35-06.png 1152w,\n/static/d6672c606a8923282e3a9ba4f2db0dac/7e08f/2023-08-07-14-35-06.png 1186w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d6672c606a8923282e3a9ba4f2db0dac/fe486/2023-08-07-14-35-06.png\"\n            alt=\"Time window\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>즉, <code class=\"language-text\">execution_date</code>는 해당 Task가 처리해야 할 데이터 기간의 시작 시점인 8월 4일을 의미합니다.<br>\n<code class=\"language-text\">execution_date</code>라는 이름을 직역하면 실행 날짜가 되기 때문에 그 의미와 실제 의미가 달라서 혼란이 유발 됐었습니다..</p>\n<h2 id=\"어떻게-해결해야-할까\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C\" aria-label=\"어떻게 해결해야 할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떻게 해결해야 할까?</h2>\n<h3 id=\"1-execution_date-이해에-따라-수정\" style=\"position:relative;\"><a href=\"#1-execution_date-%EC%9D%B4%ED%95%B4%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"1 execution_date 이해에 따라 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. execution_date 이해에 따라 수정</h3>\n<p>이건 해결방법 중 가장 쉬운 방법이지만 저만 오해가 풀린 걸 수도 있으므로 언젠가 코드를 유지보수할 다른 분들께서 또 오해의 소지가 있기 때문에 이 방법 스킵하도록 하겠습니다.</p>\n<h3 id=\"2-execution_date를-대체하기\" style=\"position:relative;\"><a href=\"#2-execution_date%EB%A5%BC-%EB%8C%80%EC%B2%B4%ED%95%98%EA%B8%B0\" aria-label=\"2 execution_date를 대체하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. execution_date를 대체하기</h3>\n<p>execution_date를 대체하는 것이 좋은 방법이라고 생각됩니다.<br>\n<a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-39+Richer+scheduler_interval\" target=\"_blank\" rel=\"nofollow\">confluence의 AIP39</a>에 보면 execution_date가 너무 오해에 소지가 있으니 새로운 이름을 명칭하는 내용이 있습니다.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 472px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.54166666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACWUlEQVR42mVU2a7dNgw8//9jAdo0uMiCIH0rri1bK7VvpOxA9knRkwp6oCQOZ0RSeiARjXEcx3meYwz6NZHomOO8Tk76z9Fz0niklD/8+eXj2/c/Pn1jXJ/neQfqvb99/vH29e+/3r5/+vyjI56vg8Z4dMRcai4lpFJb/5e8IcZUUq4pl5TLpe+FuSM9Sqkr44zxdZdc6H/e95uZaKxMrCtnu2Sb2Lhalq02/J25ISIRItXWEalfy7nfe229dexItfc+D+mFudW2MM6lfl/5wnYxyTep4DiOZeXLMhWxTTAu2SbHGC/MrWOtrVwMNw+NY8zAOMlbL7WW2kpttfVcpp2n/xT5qK2xTe5Sc6G40KnUO+FjHOC80rCwfVk524SQhgv1vu4r41IDEj1af8abIS/Dh+hD6v155zvb06G0nMtVmumGM9u170ILBVIZpUFoYBtnm2ydnI/aWLbLbZecK6mtVMC2udTGTXDvaF0A54311oXW+i0bkXKpMRWw3trg/ZTjXHAuWBd8zBNca9MawHqpAVxApBtMRDFlF6LSoLU1xjk/YXMJzoU0wa11baw2UxI4D9axXQppEJ9gqUFpa8CBDQacBqeNtT7+YgZnXbi3vI8GnHORLrAPScONdD5EsF7M1EzP3nGClYapZ+YMABwXCmwgGtpMtbvQXBqh5vz9YbTWQ0gxlxBTTDmlEkJKubQ+H8YkjymEFGKOaT6Pawyk0em6MxdKaeDS7FxqY9ddgPXjGNqAEOaqjdq54vJ/zIiYrtLHZzPUlGZLIFHK9a7W1SfTfv0M6Ce13waRZ1hpkgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/038f0fae611830adb190ac0dc77d223a/a59e9/2023-08-08-10-48-18.webp 192w,\n/static/038f0fae611830adb190ac0dc77d223a/0ca9f/2023-08-08-10-48-18.webp 384w,\n/static/038f0fae611830adb190ac0dc77d223a/1fc91/2023-08-08-10-48-18.webp 472w\"\n              sizes=\"(max-width: 472px) 100vw, 472px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/038f0fae611830adb190ac0dc77d223a/3b721/2023-08-08-10-48-18.png 192w,\n/static/038f0fae611830adb190ac0dc77d223a/66595/2023-08-08-10-48-18.png 384w,\n/static/038f0fae611830adb190ac0dc77d223a/85788/2023-08-08-10-48-18.png 472w\"\n            sizes=\"(max-width: 472px) 100vw, 472px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/038f0fae611830adb190ac0dc77d223a/85788/2023-08-08-10-48-18.png\"\n            alt=\"2023 08 08 10 48 18\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<div class=\"source\">새로운 명칭이름</div>\r\n이 위에 표에는 없지만 execution_date와 같은 날짜를 가리키는 logical_date도 존재합니다.\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d6a9b4cbfd316aee8fe04f7ceb157116/c29d8/2023-08-07-14-35-53.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJ0lEQVR42m2QvU8CQRTE73+3xNiIiY0JJtIghY0fBVpoiMYCJUEkAhGF4/bkdoHdvduPt7vPIDHGwFTTzLz5vQg3ZK2ldCbzJZtnUkpEDCHgNkXee8YY51xrjYhSyvli8Z7GiZgN08kXpZxzRHTOMcaEEADwFwaAev20Wj0hhCDic7td3ivdHpdw9NC/ODrc3Tm/vFqXViqVWq227rLWAkCEiHmhEjIDAKUKZdxr66ZolIvGgbneJ/dnS5EbrcHaLMvSNAUAYwznXAixCnsfnAsrtJ8x4I3/hQygQ/Bru4WZcpNQ9UkkofYjnT4Nmq1+czjpGFO4+MW+NU3vzg4fPR2H/58LIUQGvDI+V84ALuR8MO0Opt04G1GReTqGSQfiLiS9oOXm5W8XTYfOHuFhIQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d6a9b4cbfd316aee8fe04f7ceb157116/a59e9/2023-08-07-14-35-53.webp 192w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/0ca9f/2023-08-07-14-35-53.webp 384w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/dc9b9/2023-08-07-14-35-53.webp 768w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/e2c2f/2023-08-07-14-35-53.webp 1152w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/f3efb/2023-08-07-14-35-53.webp 1536w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/df6ec/2023-08-07-14-35-53.webp 1780w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d6a9b4cbfd316aee8fe04f7ceb157116/3b721/2023-08-07-14-35-53.png 192w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/66595/2023-08-07-14-35-53.png 384w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/fe486/2023-08-07-14-35-53.png 768w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/d2d74/2023-08-07-14-35-53.png 1152w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/e8464/2023-08-07-14-35-53.png 1536w,\n/static/d6a9b4cbfd316aee8fe04f7ceb157116/c29d8/2023-08-07-14-35-53.png 1780w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d6a9b4cbfd316aee8fe04f7ceb157116/fe486/2023-08-07-14-35-53.png\"\n            alt=\"interval Time\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"source\"> 다양한 Date</div>\n<p>위와 같이 이외에도 airflow에 정해진 date들이 있습니다.</p>\n<div class=\"code-header\">\r\n\t<span class=\"red btn\"></span>\r\n\t<span class=\"yellow btn\"></span>\r\n\t<span class=\"green btn\"></span>\r\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">//</span> pendulum<span class=\"token punctuation\">.</span>DateTime 형식\r\ndate_time_start <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>data_interval_start<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>execution_date 대신 logical_date나 data_interval_start로 변경하여 코드를 수정하는 이 방법이 조금 더 좋아보여 이렇게 수정하였습니다.</p>\n<h2 id=\"깨달은-점\" style=\"position:relative;\"><a href=\"#%EA%B9%A8%EB%8B%AC%EC%9D%80-%EC%A0%90\" aria-label=\"깨달은 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>깨달은 점</h2>\n<p>새로운 기술을 도입할 때 실보다 바늘이 많다고 생각하여 도입을 했지만, 오해할 만한 여지를 계속 내버려두고 데이터 체크를 하지 않았다면 장기적인 에러로 발전했을 것 같습니다..<br>\n앞으로도 제 로직이 정확하다고 할지라도 테스트는 무조건 진행해야 한다고 생각합니다.<br>\n이번처럼 execution_date가 제가 생각한 방향과 다르게 동작할 수 있으므로.. ㅠㅠ</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\">문제 상황</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%99%9C-%EC%9D%B4%EB%9F%B0-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C\">왜 이런 문제가 발생할까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C\">어떻게 해결해야 할까?</a></p>\n<ul>\n<li><a href=\"#1-execution_date-%EC%9D%B4%ED%95%B4%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%88%98%EC%A0%95\">1. execution_date 이해에 따라 수정</a></li>\n<li><a href=\"#2-execution_date%EB%A5%BC-%EB%8C%80%EC%B2%B4%ED%95%98%EA%B8%B0\">2. execution_date를 대체하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B9%A8%EB%8B%AC%EC%9D%80-%EC%A0%90\">깨달은 점</a></p>\n</li>\n</ul>","frontmatter":{"title":"Airflow Execution Date 트러블 슈팅","summary":"헷갈릴만한 Execution Date와 Time Window","date":"2023.08.06.","categories":["Airflow"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRvwAAABXRUJQVlA4IPAAAACwBQCdASoUABQAAAAAJaQDLs2AOAA6RjyVZ4AcyT+M2igZIByhf9q/KHjK/0zOzXrCCarYswAA/v//vi4vw/8C9ZQ7H+H//yCwbQPvsZtVP/0ES//obRwOWqfhB6QluKlBWVv/00//+CZuyt2HnR8rj3PH4g+AF7BjHL/DERmaNf+iMa2Vn/8w5vZ6J8f/zWL84nce2QIW+sKRZGr/3/++a+72/AQG7P0f+Vx+2n8ZbXOmM113LcubNJdYTmvhHp8ioh/Ssay6McI8Hv4WzVhoxfjdbd0Vnn7uGhnuuiz+QfZ5Lvn/yafX9rRFNCCAAAA="},"images":{"fallback":{"src":"/static/97afc7f825b0ddb0803e2cd1be787df7/9c0a1/chocoball.webp","srcSet":"/static/97afc7f825b0ddb0803e2cd1be787df7/e64f1/chocoball.webp 100w,\n/static/97afc7f825b0ddb0803e2cd1be787df7/8b00d/chocoball.webp 200w,\n/static/97afc7f825b0ddb0803e2cd1be787df7/9c0a1/chocoball.webp 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":400}},"publicURL":"/static/97afc7f825b0ddb0803e2cd1be787df7/chocoball.webp"}}}}]}},"pageContext":{"slug":"/airflow/execution_date/"}},"staticQueryHashes":["2269898903"],"slicesMap":{}}